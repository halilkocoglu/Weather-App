{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\halil\\\\OneDrive\\\\Belgeler\\\\Github\\\\PatikaIntermediateFrontendDevelopmentPath\\\\React\\\\Homeworks\\\\weather-context\\\\src\\\\contexts\\\\WeatherContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport cities from \"../json/cities.json\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherContext = /*#__PURE__*/createContext();\nconst WeatherProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [city, setCity] = useState(\"Ankara\");\n  const [weatherData, setWeatherData] = useState([]);\n  useEffect(() => {\n    let selectCity = cities.filter(item => item.name === city)[0];\n    let key = \"753811736ea669cbed521e6cbcaa6292\";\n    axios(`https://api.weatherapi.com/v1/forecast.json?key=${key}&q=${selectCity.latitude},${selectCity.longitude}&days=8&hour=24`).then(res => res.data).then(res => res.forecast).then(res => setWeatherData(res.forecastday));\n  }, [city]);\n  console.log(\"***weather data:\", weatherData);\n  const values = {\n    cities,\n    city,\n    setCity,\n    weatherData\n  };\n  if (weatherData.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(WeatherContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherProvider, \"cNl1nSZbRpJ3eXmu+El4Zm3eweE=\");\n_c = WeatherProvider;\nconst useWeatherContext = () => {\n  _s2();\n  return useContext(WeatherContext);\n};\n_s2(useWeatherContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { WeatherProvider, useWeatherContext };\nvar _c;\n$RefreshReg$(_c, \"WeatherProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","cities","axios","jsxDEV","_jsxDEV","WeatherContext","WeatherProvider","_ref","_s","children","city","setCity","weatherData","setWeatherData","selectCity","filter","item","name","key","latitude","longitude","then","res","data","forecast","forecastday","console","log","values","length","fileName","_jsxFileName","lineNumber","columnNumber","Provider","value","_c","useWeatherContext","_s2","$RefreshReg$"],"sources":["C:/Users/halil/OneDrive/Belgeler/Github/PatikaIntermediateFrontendDevelopmentPath/React/Homeworks/weather-context/src/contexts/WeatherContext.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport cities from \"../json/cities.json\";\r\nimport axios from \"axios\";\r\n\r\nconst WeatherContext = createContext();\r\n\r\nconst WeatherProvider = ({ children }) => {\r\n  const [city, setCity] = useState(\"Ankara\");\r\n  const [weatherData, setWeatherData] = useState([]);\r\n  useEffect(() => {\r\n    let selectCity = cities.filter((item) => item.name === city)[0];\r\n    let key = \"753811736ea669cbed521e6cbcaa6292\";\r\n\r\n    axios(\r\n      `https://api.weatherapi.com/v1/forecast.json?key=${key}&q=${selectCity.latitude},${selectCity.longitude}&days=8&hour=24`\r\n    )\r\n      .then((res) => res.data)\r\n      .then((res) => res.forecast)\r\n      .then((res) => setWeatherData(res.forecastday));\r\n  }, [city]);\r\n  console.log(\"***weather data:\", weatherData);\r\n  const values = {\r\n    cities,\r\n    city,\r\n    setCity,\r\n    weatherData,\r\n  };\r\n  if (weatherData.length === 0) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  return (\r\n    <WeatherContext.Provider value={values}>{children}</WeatherContext.Provider>\r\n  );\r\n};\r\n\r\nconst useWeatherContext = () => useContext(WeatherContext);\r\n\r\nexport { WeatherProvider, useWeatherContext };\r\n"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACtE,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,cAAc,gBAAGR,aAAa,EAAE;AAEtC,MAAMS,eAAe,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACnC,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,QAAQ,CAAC;EAC1C,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClDC,SAAS,CAAC,MAAM;IACd,IAAIc,UAAU,GAAGb,MAAM,CAACc,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAKP,IAAI,CAAC,CAAC,CAAC,CAAC;IAC/D,IAAIQ,GAAG,GAAG,kCAAkC;IAE5ChB,KAAK,CACF,mDAAkDgB,GAAI,MAAKJ,UAAU,CAACK,QAAS,IAAGL,UAAU,CAACM,SAAU,iBAAgB,CACzH,CACEC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CACvBF,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACE,QAAQ,CAAC,CAC3BH,IAAI,CAAEC,GAAG,IAAKT,cAAc,CAACS,GAAG,CAACG,WAAW,CAAC,CAAC;EACnD,CAAC,EAAE,CAACf,IAAI,CAAC,CAAC;EACVgB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEf,WAAW,CAAC;EAC5C,MAAMgB,MAAM,GAAG;IACb3B,MAAM;IACNS,IAAI;IACJC,OAAO;IACPC;EACF,CAAC;EACD,IAAIA,WAAW,CAACiB,MAAM,KAAK,CAAC,EAAE;IAC5B,oBAAOzB,OAAA;MAAAK,QAAA,EAAK;IAAU;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAC9B;EACA,oBACE7B,OAAA,CAACC,cAAc,CAAC6B,QAAQ;IAACC,KAAK,EAAEP,MAAO;IAAAnB,QAAA,EAAEA;EAAQ;IAAAqB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAA2B;AAEhF,CAAC;AAACzB,EAAA,CA3BIF,eAAe;AAAA8B,EAAA,GAAf9B,eAAe;AA6BrB,MAAM+B,iBAAiB,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMxC,UAAU,CAACO,cAAc,CAAC;AAAA;AAACiC,GAAA,CAArDD,iBAAiB;AAEvB,SAAS/B,eAAe,EAAE+B,iBAAiB;AAAG,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}